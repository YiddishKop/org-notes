<img class="img-topic" src="http://jr0cket.co.uk/images/spacemacs-logo.png" />
<p>There is a great deal of development in Spacemacs and the wider Emacs community, especially around the new features of Emacs 26.  So sometimes bugs appear in Emacs packages, but usually for not very long.  Here is a simple guide to avoiding broken packages in your Spacemacs environment on the rare occasion that this happens.</p>
<blockquote>
<p>One way to track bugs is to watch the <a href="https://github.com/syl20bnr/spacemacs" rel="external" target="_blank">Spacemacs Github repository</a>.  You can also join the <a href="https://gitter.im/syl20bnr/spacemacs" rel="external" target="_blank">Spacemacs discussions on Gitter.im</a></p>
</blockquote>
<a id="more"></a>
<h2 id="Rolling-back-a-package-update"><a class="headerlink" href="http://jr0cket.co.uk/categories/emacs/atom.xml#Rolling-back-a-package-update" title="Rolling back a package update"></a>Rolling back a package update</h2><p>I update Emacs packages at least 1 a month using the <strong>Update Packages</strong> link on the Spacemacs homepage.  If one of the new versions of a packages contains a bug, then I perform a rollback using the <strong>Rollback Package Updates</strong> link.</p>
<p><img alt="Spacemacs - Home - Update Packages" src="http://jr0cket.co.uk/images/spacemacs-home-release-notes.png" /></p>
<h2 id="Pinning-a-version-for-a-known-buggy-package"><a class="headerlink" href="http://jr0cket.co.uk/categories/emacs/atom.xml#Pinning-a-version-for-a-known-buggy-package" title="Pinning a version for a known buggy package"></a>Pinning a version for a known buggy package</h2><p>If you know there is a bug with a specific package before you update all the packages, then you can add the name of that package to <code>dotspacemacs-frozen-packages</code> list. </p>
<p>You need to restart Spacemacs for the change to take effect, but afterwards you can update the rest of your packages without updating any of the frozen packages.</p>
<h2 id="Rollback-is-not-an-option"><a class="headerlink" href="http://jr0cket.co.uk/categories/emacs/atom.xml#Rollback-is-not-an-option" title="Rollback is not an option"></a>Rollback is not an option</h2><p>If you canâ€™t rollback, you can tell Spacemacs to install a working version of the broken package by adding it to <code>spacemacs-additional-packages</code> with a recipe.</p>
<p>For example, at the initial time of writing there was <a href="https://github.com/syl20bnr/spacemacs/issues/8500" rel="external" target="_blank">a bug in the smartparens package</a> although this was quickly fixed.  </p>
<p>To temporarily pin that package to a known good version, we would have added the following to <code>spacemacs-additional-packages</code>:</p>
<figure class="highlight lisp"><table><tbody><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">(<span class="name">smartparens</span></div><div class="line">  <span class="symbol">:location</span> (<span class="name">recipe</span> </div><div class="line">              <span class="symbol">:fetcher</span> github </div><div class="line">              <span class="symbol">:repo</span> <span class="string">"Fuco1/smartparens"</span> </div><div class="line">              <span class="symbol">:commit</span> <span class="string">"73b9dd0c70f381aee2da8c8b27f79019aa80dcae"</span>))</div></pre></td></tr></tbody></table></figure>
<blockquote>
<p>This temporary fix is no longer need as the Smartparens package was quickly fixed by the author.  Smartparens is only used as an example.  Thank you.</p>
</blockquote>
<h2 id="Summary"><a class="headerlink" href="http://jr0cket.co.uk/categories/emacs/atom.xml#Summary" title="Summary"></a>Summary</h2><p>We have discussed an easy way to manage broken Emacs packages with <a href="https://spacemacs.org/" rel="external" target="_blank">Spacemacs</a>, so hopefully you can quickly fix any situation that may occur with packages.</p>
<p>If you do find any bugs in a package then you can also submit an issue or pull request to the relevant package so you wont need to manage frozen or additional packages for long.</p>
<p>My thanks and gratitude goes out to all the Spacemacs and Emacs maintainers and contributors who all make Emacs the best tool out there.</p>
<p>Thank you.<br /><a href="https://twitter.com/jr0cket" rel="external" target="_blank">@jr0cket</a></p>